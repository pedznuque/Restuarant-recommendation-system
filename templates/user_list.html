<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/static/user_list.css">

    <title>Document</title>

</head>
<body>
  


  <header>
    <div class="logo">
      <img src="https://www.linkpicture.com/q/linkedin_banner_image_1.png" alt="">
    </div>
    <nav>
      <ul>
        {% if 'username' in session %}
          <li><a href="{{ url_for('index') }}">HOME</a></li>
          <li class="dropdown">
            <a href="#" onclick="toggleDropdown()">{{ session['username'] }}!</a>
            <div class="dropdown-menu">
              <a href="/profile">Profile settings</a>
              <a href="/bookmarks">Bookmarks</a>
              {% if session['is_admin'] %}
                <a href="{{ url_for('user_list') }}">Admin</a>
              {% endif %}
            </div>
          </li>
          <li><a href="/logout">LOG OUT</a></li>
        {% else %}
        <li><a href="{{ url_for('index') }}">HOME</a></li>
        <li><a href="/login">LOG-IN</a></li>
        <li><a href="/register">SIGN-IN</a></li>
        {% endif %}
      </ul>
    </nav>
  </header>


<div class="title">User's list</div>

<div class="table-container">
<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Photo</th>
      <th>Username</th>
      <th>Email</th>
      <th>Password</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for user in users %}
    <tr>
      <td>{{ user[0] }}</td>
      {% if user[4] %}
      <td><a href="{{ url_for('user_profile', user_id=user[0]) }}"><img src="{{ user[4] }}" alt=""></a> </td>
      {% else %}
      <td><a href="{{ url_for('user_profile', user_id=user[0]) }}"><img src="https://cdn-icons-png.flaticon.com/512/1144/1144709.png" alt=""></a> </td>
      {% endif %}
      <td>{{ user[1] }}</td>
      <td>{{ user[2] }}</td>
      <td>{{ user[3] }}</td>
      <td>
        
        <form action="{{ url_for('delete_user') }}" method="post">
          <input type="hidden" name="user_id" value="{{ user[0] }}">
          <button type="submit">Delete</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
</div>
  
<script>

function toggleDropdown() {
    var dropdown = document.querySelector('.dropdown-menu');
    dropdown.classList.toggle('show');
    dropdown.style.transition = "transform 0.2s ease-in-out, opacity 0.2s ease-in-out";
  }

</script>


</body>
</html>